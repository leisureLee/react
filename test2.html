<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="react.js"></script>
    <script src="react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.24/browser.min.js"></script>
</head>

<body>
    <div id="example"></div>
    <script type="text/babel">
        var Comment = React.createClass({
            getInitialState : function(){
                return{
                    names : ['a1','a2','a3'],
                    selectName : '',
                }
            },
            handelSelect : function(event){
                this.setState({selectName : event.target.value})
            },
            render:function(){
                var options = [];
                for ( var i = 0 ; i < this.state.names.length;i++ ){
                    options.push(<option key={i} value={this.state.names[i]}>{this.state.names[i]}</option>)
                }
                return(
                    <div>
                        <select onChange = {this.handelSelect}>{options}</select>
                        <Content selectName = {this.state.selectName} />
                    </div>
                )
            }  
        });   
        var Content = React.createClass({
            
            getInitialState : function(){
                return{
                    txtValue : ''
                }   
            },
            contentValue : function(event){
                this.setState({txtValue : event.target.value})
            },
            showCon : function(){

                console.log("reply To"+this.props.selectName+'\n'+this.state.txtValue);
            },
            render:function(){
                return (<div>
                            <textarea placeholder = "please..." onChange = { this.contentValue }></textarea>
                            <input type = "button" onClick = {this.showCon} value='submit'/>
                        </div>)
            }
        }) 
        ReactDOM.render(<Comment />,document.getElementById('example'))
    </script>
</body>

</html>
